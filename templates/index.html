{% extends "layout.html" %}

{% block title %}
    Home
{% endblock %}

{% block main %}
<h1 class="page-header">Welcome</h1>
<h3>Thank you for visiting my webpage.  Please feel free to look around!</h3>
<div>
    <p>If you would like, you can sign the page below</p>
    <form action="/" method="post">
        <input type="text" name="signature" autofill="false">
        <button class="btn btn-primary" type="submit">Sign</button>
    </form>
</div>
<br>
<div id="scrollingList" style="height: 200px; overflow-y: hidden; pointer-events: none;">
    <div id="innerList">
        {% for item in data %}
            <div>{{ item[0] }}. {{ item[1] }} - {{ item[2] }}</div>
        {% endfor %}
    </div>
</div>
<script>
    var scrollingList = document.getElementById('scrollingList');
    var innerList = document.getElementById('innerList');
    var listItemHeight = innerList.firstElementChild.clientHeight;
    var totalHeight = innerList.clientHeight;

    var cloneList = innerList.cloneNode(true);
    scrollingList.appendChild(cloneList);

    function scrollList() {
        if (scrollingList.scrollTop >= totalHeight) {
            scrollingList.scrollTop = 0;
        } else {
            scrollingList.scrollTop += 1;
        }
    }

    var scrollInterval = setInterval(scrollList, 50);

    scrollingList.addEventListener('mouseenter', function() {
        clearInterval(scrollInterval);
    });

    scrollingList.addEventListener('mouseleave', function() {
        scrollInterval = setInterval(scrollList, 50);
    });
</script>
{% endblock %}
